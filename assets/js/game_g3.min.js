var isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);function setCookie(e,t,a){var o=new Date;o.setDate(o.getDate()+a);var r="expires="+o.toUTCString();document.cookie=e+"="+t+"; "+r+";path=/"}function getCookie(e){var t=document.cookie;var a=t.split("; ");for(var o=0;o<a.length;o++){var r=a[o].split("=");if(r[0]==e)return r[1]}return""}var isSupportWebp=function(){try{return document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")===0}catch(e){return false}};var errorCDN=function(e){const t=e.getAttribute("data-error");const a=document.createElement("script");a.src=t;console.warn(e,"CDN ERROR");document.head.appendChild(a);if(e.onload){a.onload=e.onload}e.remove()};var jqReadyHanlder=function(){if(document.body.clientWidth<=767){$("#share").click(function(){navigator.share({title:"weGame",text:"",url:location.href+"/?utm_source=game&utm_medium=share"}).then(()=>console.log("Share was successful.")).catch(e=>console.log("Sharing failed",e))})}let t;const a=$(".home_add");const o=$("#home");o.css("display","none");var e;window.addEventListener("beforeinstallprompt",e=>{e.preventDefault();t=e;$(window).scroll(function(e){var t=$(window).scrollTop();if(t>$(window).height()&&document.body.clientWidth<=1024){o.css("display","flex")}});a.on("click",e=>{t.prompt();t.userChoice.then(e=>{if(e.outcome==="accepted"){console.log("User accepted the Add to home prompt")}else{console.log("User dismissed the Add to home prompt")}})})});if("serviceWorker"in navigator){navigator.serviceWorker.register("/sw.js").then(()=>{console.log("Service Worker Registered")})}$(function(){function t(e,t){const a=document.getElementById(e);if(a){const o=document.createElement("ins");o.style.cssText="display:block;text-align:center;";o.className="adsbygoogle "+e;o.setAttribute("data-ad-client",t.client);o.setAttribute("data-ad-slot",t.slot);o.setAttribute("data-full-width-responsive",true);if(t.format!="false"){o.setAttribute("data-ad-format","auto")}if(t.layoutKey){o.setAttribute("data-ad-layout-key",t.layoutKey)}a.appendChild(o);(adsbygoogle=window.adsbygoogle||[]).push({})}}function l(){var e="ca-pub-7116395709201717";$("head").append($('<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">'));(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:e,enable_page_level_ads:true});switch(location.hostname){default:t("cate_ad_01",{client:e,slot:"5756099183"});t("detail_ad_01",{client:e,slot:"5756099183"});t("detail_ad_02",{client:e,slot:"8190690833"});t("detail_ad_03",{client:e,slot:"4251445822"});t("detail_ad_04",{client:e,slot:"6686037477",format:"rectangle"});t("detail_ad_05",{client:e,slot:"7339001872",format:"rectangle"});if(isMobile){t("play_m_ad_01",{client:e,slot:"1193698331",format:"auto"})}else{t("play_ad_01",{client:e,slot:"1193698331",format:"auto"})}t("play_ad_02",{client:e,slot:"5181384119",format:isMobile?"false":"auto"});t("play_ad_03",{client:e,slot:"1437240915"})}}function e(){const e="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Roboto+Slab:wght@700&family=Roboto:wght@500&display=swap";$("head").append($('<link rel="stylesheet">').attr("href",e));var t=document.createElement("script");t.src="https://cdn.jsdelivr.net/gh/JimmyBryant/iconfont@latest/iconfont.js";t.setAttribute("data-error","/assets/iconfont/iconfont.js");t.setAttribute("onerror","errorCDN(this)");document.body.append(t);if(document.querySelector("#game_audio>iframe")){$("#game_audio>iframe").attr("src",$("#game_audio>iframe").data("src"))}l();var a=document.getElementById("useAgree");var o=document.getElementById("userConsent");a&&a.addEventListener("click",function(){setCookie("user-consent","1",365);o.style.opacity=0;o.style.zIndex=-1;$("#home").css("bottom","20px")});if(!getCookie("user-consent")){if(o){o.style.opacity=1;o.style.zIndex=1e3;$("#home").css("bottom","60px")}}$("#mobile-right").click(function(){$("#mobile-menu").css("left","0")});$(".similargames_title_close").click(function(){$("#mobile-menu").css("left","-100%")});$(".gameplug_close").click(function(){$("#gameplug").hide()});$("#menu").click(function(){$(".hd-menu-box").slideToggle()});$(document).on("click",".pop_li_box>.icon_close",function(){$(this).parent().parent().remove();var a=$(this).siblings(".pop_item").children(".pop_name").text();localStorage.removeItem(a);var e=localStorage.getItem("localmark");arr=e.substring(0,e.length-1).split("/");$(arr).each(function(e,t){if(arr[e]==a){arr.splice(jQuery.inArray(arr[e],arr),1)}});if(arr.length!=0){arr=arr.join("/");arr=arr+"/";localStorage.setItem("localmark",arr)}else{localStorage.removeItem("localmark");$(".fav_listbox").hide().siblings(".empty").show()}var t=$(".nav_li .fav_num").text();$(".fav_num").text(parseInt(t)-1)});$(document).click(function(e){$(this).children(".dropdown-content").slideUp();e.stopPropagation()});$(".dropdown").click(function(e){$(this).children(".dropdown-content").slideToggle();e.stopPropagation()});if(localStorage.localmark){var r=localStorage.getItem("localmark");arr=r.substring(0,r.length-1).split("/");$(arr).each(function(e,t){$(".fav_num").text(arr.length);var a=localStorage.getItem(arr[e]);var a=JSON.parse(a);str1='<li class="pop_li"><div class="pop_li_box">';str1+='<a href="'+a.href2+'" class="game_img">';str1+='<img src="'+a.img2+'"></a>';str1+='<a href="'+a.href2+'" class="pop_item"><h4 class="pop_name">'+arr[e]+"</h4></a>";str1+='<svg class="icon_close"><use xlink:href="#icon-close"></use></svg></div></li>';$("#fav_list").append(str1);$(".fav_listbox").show().siblings(".empty").hide();var o=$(".game_title").text();if(arr[e]==o){$("#favorite").addClass("remove_fav").removeClass("click_fav")}})}$("#favorite").click(function(){if($(this).hasClass("remove_fav")){var a=$(".game_title").text();localStorage.removeItem(a);var e=localStorage.getItem("localmark");arr=e.substring(0,e.length-1).split("/");$(arr).each(function(e,t){if(arr[e]==a){arr.splice(jQuery.inArray(arr[e],arr),1)}});if(arr.length!=0){arr=arr.join("/");arr=arr+"/";localStorage.setItem("localmark",arr)}else{localStorage.removeItem("localmark")}var t=$(".nav_li .fav_num").text();$(".fav_num").text(parseInt(t)-1)}else{var o=$(".game_title").text();var r=location.href;var i=$(".img_topfix>img").attr("src")||$(".gamejoy_img").attr("src");var l={href2:r,txt2:o,img2:i};var n=JSON.stringify(l);localStorage.setItem(o,n);var s="";if(localStorage.localmark){var s=localStorage.getItem("localmark");s+=o+"/"}else{s=o+"/"}localStorage.setItem("localmark",s);var t=$(".nav_li .fav_num").text();$(".fav_num").text(parseInt(t)+1)}$(this).toggleClass("remove_fav").toggleClass("click_fav")});function i(e,t){var a=document.createElement("video");a.className="preview";a.loop="loop";a.autoplay="autoplay";a.muted="muted";a.src=e;if(t){a.addEventListener("load",t)}return a}$(".pop_li_box>.game_img[data-preview]").hover(function(e){var t=$(this).data("preview");var a=i(t);this.append(a)},function(e){$(this).find("video.preview").remove()})}e()})};function onPageLoaded(e){if(document.readyState=="complete"){e&&e()}else{window.addEventListener("load",function(){e&&e()})}}onPageLoaded(function(){var e="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js";var t="/assets/js/jquery-3.6.0.min.js";var a=document.createElement("script");a.src=e;a.setAttribute("onerror","errorCDN(this)");a.setAttribute("data-error",t);a.onload=function(){jqReadyHanlder()};document.body.appendChild(a)});var lazyLoadInstance=new LazyLoad({elements_selector:".lazyload"});